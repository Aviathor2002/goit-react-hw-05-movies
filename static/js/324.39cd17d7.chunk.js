"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[324],{324:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),i=n(946),o=n(791),c=n(87),a=n(689),u=n(989),s=n(831),l=n(184),d=function(e){var t=e.movies,n=(0,a.TH)();return console.log(n),(0,l.jsx)("ul",{children:t&&t.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsxs)(c.rU,{to:(0,u.Gn)(s.m.MovieDetails,{movieId:e.id}),state:{from:n},children:[(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:e.title}),(0,l.jsx)("span",{children:e.release_date})]})]})},e.id)}))})},h=function(e){var t=e.onSubmit,n=(0,o.useState)(""),i=(0,r.Z)(n,2),c=i[0],a=i[1];return(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),a("")},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-4 translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:16,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsx)("input",{type:"text",placeholder:"Enter name of movie...",value:c,onChange:function(e){return a(e.target.value)}})]}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})})},f=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=(0,o.useState)("idle"),s=(0,r.Z)(u,2),f=s[0],m=s[1],v=(0,c.lr)(),p=(0,r.Z)(v,2),x=p[0],g=p[1],j=x.get("searchWord");(0,o.useEffect)((function(){m("loading"),j&&(0,i.GC)(j).then((function(e){var t=e.data;a(t.results),m("fulfilled")})).catch(m("error")).finally(m("idle"))}),[j]);return"idle"===f?(0,l.jsx)("h1",{children:" Loading..."}):"error"===f?(0,l.jsx)("h1",{children:" Smth went wrong. Eror 404"}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Search movie"}),(0,l.jsx)(h,{onSubmit:function(e){g({searchWord:e})}}),(0,l.jsx)(d,{movies:n})]})}},946:function(e,t,n){n.d(t,{Df:function(){return c},GC:function(){return l},Pg:function(){return a},q5:function(){return s},yo:function(){return u}});var r=n(243),i="https://api.themoviedb.org/3",o="76c682e9d9d34956306f5842e1234b80",c=function(){return r.Z.get("".concat(i,"/trending/movie/day?api_key=").concat(o))},a=function(e){return r.Z.get("".concat(i,"/movie/").concat(e,"?api_key=").concat(o))},u=function(e){return r.Z.get("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(o))},s=function(e){return r.Z.get("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(o))},l=function(e){return r.Z.get("".concat(i,"/search/movie?api_key=").concat(o,"&query=").concat(e,"&include_adult=false"))}}}]);
//# sourceMappingURL=324.39cd17d7.chunk.js.map